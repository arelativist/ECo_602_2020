---
title: "Eco 602 Final Project"
subtitle: "Final Project"
author: "Michelle Marasco"
date: "10/15/2020"
output:
  html_document:
    theme: readable
    toc: TRUE
    toc_float: TRUE
editor_options:
  chunk_output_type: console
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE)
knitr::opts_chunk$set(message = FALSE)
options(knitr.duplicate.label = TRUE)
```

<!-- Everything above this line is the header. -->


<!-- The following text won't be displayed in your document.  It tells R how to make nicer looking buttons for your tabbed content. -->

<style type="text/css" rel="stylesheet">

.btn {
    border-width: 0 0 0 0;
    font-weight: normal;
    text-transform: none;
}

.btn-default {
    color: #2ecc71;
    background-color: #ffffff;
    border-color: #ffffff;
}
</style>



# Introduction

This page will review the R code that can be useful in statistical exploration and analysis, and some examples of the implementation of this code. 

Functions for data structure, numerical data exploration, graphical data exploration, distributions and others will be covered. This page can serve as both a primer in R and a reference for future statistical analyses. 



# Functions 1: Data Structure Functions {.tabset .tabset-pills}

<!-- Look at the source code for the final project template, you'll notice the text: -->
<!-- {.tabset .tabset-pills} -->
<!-- This creates tabbed content for all the following sections that are one-level below. -->
<!-- - If you include them on a primary header (one #), all of the subsequent secondary headers will in tabs. -->




## `c()`


The function `c()` *combines* or *concatenates* its arguments into a vector (a 1-dimensional data structure consisting of 1 or more elements).

- All of the elements must be of the same *type*.
  - I can't combine character and numeric types in the same call to `c()`

Here's two examples using numeric and character data types:

```{r}
# Create a vector of numbers:
num_vec  = c(1, 4, 8, 9, 13)

# Create a vector of characters:
char_vec = c("a", "fish", "data is cool")
```

I can show the contents of a vector by typing the name of the vector, or using the `print()` function.

```{r}
# Typing the name of the vector into the console prints the contents
num_vec

# The print() function accomplishes the same task:
print(char_vec)
```


## `data.frame()`

A data frame contains columns and rows, where each column contains the same number of items. I can create a data frame using the function `data.frame()`

- Rows must be of the same length
- Data stored can be factor, numeric, or character type
- Columns must be of the same data type

The data frame can be defined by defining each column, as shown below:
  


```{r}
## build a data frame from scratch

dat_1 <- data.frame(
  letters = c("f", "t", "w"),
  numbers_1 = c(42,6, 31415956))

## I can print the contents by typing the name of the data frame

dat_1

```

Some ways to subset a data frame:

- If I know the name of a column, I can use `$`


```{r}
## Here I will use subset a column by name

dat_1$letters

```

- You can also subset a data frame, using `subset()` !

```{r}
## Creating a subset using subset()

sub_1 <- subset(dat_1, letters == "f")

sub_1

```


## `matrix()`

A matrix is a two dimensional data structure that can be created using the function `matrix()`.

A matrix has a defined dimension and must be comprised of a single data type.

- a matrix may be created from a vector by applying a dimension


```{r}

## Create a matrix from scratch

new_matrix <- matrix(1:18, nrow = 6, ncol = 3) 

## the first argument is the data for the matrix
## nrow and ncol define the dimensions, only one is required

##display new matrix

new_matrix

```




## `length()`

The function `length()` either retrieves or sets the length of an object. 

```{r}
## Use length() to retrieve a length

vect <- c(1:18)
length(vect)

```

```{r}
## Use length() to set the length
## Establish and print vector

vect <- c(1:18)
vect

## set the length


length(vect) <- 9
vect

```

## `nrow()`

The function `nrow()` either sets or retrieves the number of rows in a matrix:
```{r}

##nrow() can set the rows:
matrix <- matrix(18:35, nrow = 6)
matrix

##and nrow() can retrieve the rows:

nrow(matrix)

```



## `ncol()`
The function `ncol()` either sets or retrieves the number of columns in a matrix:
```{r}
## ncol() can set the columns:

matrix <- matrix(18:35, ncol = 6)
matrix

## and ncol() can retrieve the columns:

ncol(matrix)

```



## `dim()`

To create a matrix from a vector, use the function `dim()`:


```{r}
## To create a matrix from a vector, first establish the vector:

vect <- c(1:18)

## Then apply dimension using dim()

dim(vect) <- c(3,6)

vect

```

Similar to `length()`, `dim()` can also be used to retrieve the dimensions of something:

```{r}
matrix <- matrix(18:35, ncol = 6)

dim(matrix)

```


# Functions 2: Numerical Data Exploration  {.tabset .tabset-pills}

## `summary()`

To get a brief synopsis of an object, I can use the function `summary()`:

```{r}
## load the palmerpenguins package
require(palmerpenguins)

## demonstrate
summary(penguins)
```

This can be very useful in an initial exploration of your data


## `mean()`

The `mean()` function can be used to retrieve the mean of a set of data:

```{r}
## load the palmerpenguins package
require(palmerpenguins)


##demonstrate
## the argument na.rm removes NA values in this calculation

mean(penguins$flipper_length_mm, na.rm = TRUE)


```



## `sd()`

The `sd()` function calculates standard deviation:

```{r}
## load the palmerpenguins package
require(palmerpenguins)

## demonstrate
## the argument na.rm removes NA values in this calculation

sd(penguins$flipper_length_mm, na.rm = TRUE)
```

 


# Functions 3: Graphical Data Exploration {.tabset .tabset-pills}

See the final project description for a list of the required functions.

## `plot()`


I can use `plot()` to create scatterplots! 


```{r scatterplot_1, fig.asp = 0.7}

## load the penguins package:
require(palmerpenguins)

## using formula notation:
## I can use the pch argument to change the symbol

plot(
  bill_length_mm ~ body_mass_g,
  data = penguins,
  pch = 8)


```

## `boxplot()`

The function `boxplot()` can be used to create boxplots!

- This can be used to plot both conditional and simple boxplots:

```{r}

## Load the palmerpenguins package:
require(palmerpenguins)

## a single boxplot:
boxplot(penguins$flipper_length_mm, 
        main = "Flipper Length (mm)",
        ylab = "length")  ## here the main and ylab arguments are providing labels

## A conditional boxplot :
boxplot(flipper_length_mm ~ species, data = penguins, 
        ## the first argument tells it which data to plot and which 
        ## to condition it by, using the ~ (tilda)
        main = "Flipper Length by Species",
        ## again, labels
        ylab = "Flipper Length (mm)")

```



## `hist()`

I can create a histogram using the function `hist()`!

```{r}
## import the penguin data:
require(palmerpenguins)

## create a histogram
hist(penguins$flipper_length_mm,
     main = "Histogram of Flipper Length",
     xlab = "Flipper Length (mm)")

```

`hist` has many arguments, but one important one is `breaks =`:

- set the argument `breaks` to alter the number of bins in your histogram:


```{r}

## make a histogram with 40 bins:

hist(penguins$flipper_length_mm,
     breaks = 40, ## here I specify the breaks
     main = "Histogram of Flipper Length",
     xlab = "Flipper Length (mm)")

```

## `par() and mfrow=`

The function `par()` with the argument `mfrow=` can be used to plot more than one graph at a time!

- This can be useful to combine more than one graph
- `mfrow=` uses a vector:

```{r fig.asp = 1}
## this is how to implement the par() function:

par(mfrow = c(1,2)) ##mfrow describes the layout. Here, 1X2
## The graphs following par() will be plotted together
boxplot(flipper_length_mm ~ species, data = penguins, 
        main = "Flipper Length by Species",
        ylab = "Flipper Length (mm)")
hist(penguins$flipper_length_mm,
     breaks = 40,
     main = "Histogram of Flipper Length",
     xlab = "Flipper Length (mm)")

```




# Functions 4: Distribution Functions {.tabset .tabset-pills}

## `dnorm()`

The function `dnorm()` can be used to calculate the probability density of a normal distribution!

- For example:
```{r}

## The following will return the height of the curve of the normal distribution
## at X = 12
## for a normal distribution where the mean is 18 and the standard deviation is 6:

dnorm(12, mean = 18, sd = 6)

```


## `pnorm()`

The function `pnorm()` returns the cumulative density for a normal distribution! 

- `pnorm()` gives me the value of the probability of observing `x` or *less*

```{r}
## What is the probability of observing a value less than 15 in a normal distribution with a mean of 18 and a standard deviation of 6

pnorm(15, mean = 18, sd = 6)

```

In this case we return 30.85% probability!



## `qnorm()`

The function `qnorm()` returns the value at a quantile of a normal distribution!

- `qnorm()` gives me the value at the specified percentile, `p`
- percentile argument must be given as a decimal 


```{r}
## What is the value at the 31% percentile for a standard distribution with a mean of 18 and a standard deviation of 6?

qnorm(0.31, mean = 18, sd = 6)

```

Here, we return something close to 15.

## `dbinom()`

Similar to `dnorm()`, the function `dbinom()` returns probability, but returns it for a binomial distribution. In a binomial distribution, we call it probability mass instead of density.

- `dbinom()` will give us the probability of observing a value (x) in a binomial distribution:



```{r dbinom}

## what is the probability of observing 5 successes (x), in a binomial distribution with twenty trials (size) and a success rate of 25% (prob)

dbinom(5, size = 20, prob = .25)

```

Here we get an answer close to 20%

## `qbinom()`

`qbinom()` is a function that give us the quantile of a binomial distribution

- We can use `qbinom()` to return the value at a quantile of a binomial distribution:

```{r qbinom}

## what is the 20th quantile of a binomial distribution with a size of 20 and a probability of 25%?

qbinom(.20, size = 20, prob = .25)

```
And the answer is 3.




# Functions 5: Other Functions {.tabset .tabset-pills}

## `subset()`

The function `subset()` can be used to isolate data from a data frame.


```{r}
## import penguins data
require(palmerpenguins)

## summarize the data to look for something to subset:
summary(penguins)

## create a subset!
dat_adelie <- subset(penguins, species == "Adelie")

## test the subset
head(dat_adelie)

```

Here we have subsetted the penguin data into just one species, Adelie.

## `library() and require()`

The `library()` and `require()` functions can be used to import pre-installed code and datasets that come with R. These are called packages. 

- The first time you access a package, you should use `install.packages()` to bring it in to R
- They can be used interchangeably but `require()` is necessary for use inside of a function


```{r}
## Using library() to load a package of code that we need:
library(stats)

## This is the package that we have been using for our distribution functions. Here we can see a description:
packageDescription("stats")

## another package that we have been relying heavily upon is the palmer penguins data package
library(palmerpenguins)

## this package has supplied us with our penguin data
packageDescription("palmerpenguins")

```


## `read.csv()`

The function `read.csv()` is used to import data from a local csv file:

```{r read.csv}

### Import data using read.csv function

dat_delomys <- read.csv("data/delomys.csv")

summary(dat_delomys)

```


Using `summary()`, we can see that the data did indeed import.



# Part 2: Data Anaylsis

## Numerical Exploration

## Graphical Exploration

## Model Building

## Model Diagnostics

## Model Interpretation

## Model Comparison : Body Mass








